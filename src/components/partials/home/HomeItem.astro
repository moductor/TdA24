---
import {
  getNameString,
  type Lecturer as LecturerModel,
} from "../../../models/Lecturer";

import Card from "../../widgets/Card.astro";
import LecturerMetadata from "../lecturer/LecturerMetadata.astro";
import LecturerPortrait from "../lecturer/LecturerPortrait.astro";

type Props = {
  lecturer: LecturerModel;
  [prop: string]: any;
};

const { lecturer, ...props } = Astro.props;
---

<div data-lecturer-item={lecturer.uuid} {...props}>
  <LecturerPortrait portrait={lecturer.picture_url} class="portrait" />

  <LecturerMetadata
    name={getNameString(lecturer)}
    claim={lecturer.claim}
    price={lecturer.price_per_hour}
    location={lecturer.location}
    useH1={false}
    class="metadata"
  />

  <a
    href={`/lecturer/${lecturer.uuid}`}
    class="link"
    aria-label="Přejít na stránku lektora"
  >
    <Card class="card">Zobrazit více</Card>
  </a>
</div>

<style lang="scss">
  [data-lecturer-item] {
    --spacing: 1.25rem;

    display: grid;
    grid-template-columns: subgrid;
    gap: 1.25rem;
  }

  .portrait {
    width: 100%;
    height: 100%;
    min-height: var(--portrait-size);
    aspect-ratio: initial;

    @media (max-width: 720px) {
      aspect-ratio: 16 / 10;
    }
  }

  .metadata {
    flex-grow: 1;

    @media (max-width: 900px) {
      padding: 1.2rem;
    }
  }

  .link {
    grid-column: 1 / -1;

    display: block;
    color: currentColor;
    text-decoration: none;

    font-weight: 700;
    text-align: center;
    font-family: var(--font-accent);
    line-height: 1;
    font-size: 1.2rem;

    @media (min-width: 720px) {
      font-size: 1.4rem;
    }

    .card {
      padding: 0.6em;
    }
  }
</style>
