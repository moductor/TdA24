---
import {
  getNameString,
  type Lecturer as LecturerModel,
} from "../../../models/Lecturer";

import Card from "../../widgets/Card.astro";
import LecturerMetadata from "../lecturer/LecturerMetadata.astro";
import LecturerPortrait from "../lecturer/LecturerPortrait.astro";

type Props = {
  lecturer: LecturerModel;
  [prop: string]: any;
};

const { lecturer, ...props } = Astro.props;
---

<div data-lecturer-item={lecturer.uuid} {...props}>
  <div class="data">
    <LecturerPortrait portrait={lecturer.picture_url} class="portrait" />
    <LecturerMetadata
      name={getNameString(lecturer)}
      claim={lecturer.claim}
      price={lecturer.price_per_hour}
      location={lecturer.location}
      useH1={false}
      class="metadata"
    />
  </div>
  <a
    href={`/lecturer/${lecturer.uuid}`}
    class="link"
    aria-label="Přejít na stránku lektora"
  >
    <Card class="card">Zobrazit více</Card>
  </a>
</div>

<style lang="scss">
  [data-lecturer-item] {
    --spacing: 1.25rem;

    display: flex;
    flex-direction: column;
    gap: var(--spacing);
  }

  .data {
    display: flex;
    gap: var(--spacing);

    @media (max-width: 720px) {
      flex-direction: column;
    }
  }

  .portrait {
    width: auto;

    @media (max-width: 980px) {
      aspect-ratio: 3 / 4;
    }

    @media (max-width: 720px) {
      aspect-ratio: 16 / 10;
    }
  }

  .metadata {
    flex-grow: 1;
  }

  .link {
    display: block;
    color: currentColor;
    text-decoration: none;

    font-weight: 700;
    text-align: center;
    font-family: var(--font-accent);
    font-size: 1.2rem;

    @media (min-width: 720px) {
      font-size: 1.4rem;
    }

    .card {
      padding: 0.4em;
    }
  }
</style>
